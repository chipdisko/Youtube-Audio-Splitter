# .gitignore Guide

## Overview

This `.gitignore` follows industry best practices for Python projects, covering:
- Python build artifacts
- Virtual environments
- IDE configurations
- OS-specific files
- Security-sensitive files
- Project-specific artifacts

## Structure

### 1. Python Section
Standard Python gitignore patterns including:
- `__pycache__/` - Python bytecode cache
- `*.pyc`, `*.pyo` - Compiled Python files
- `*.egg-info/` - Distribution metadata
- `build/`, `dist/` - Build outputs
- `.pytest_cache/`, `.coverage` - Test artifacts
- Virtual environment directories

### 2. Operating Systems
Platform-specific files that shouldn't be committed:
- **macOS**: `.DS_Store`, `.AppleDouble`, `.Spotlight-V100`
- **Windows**: `Thumbs.db`, `Desktop.ini`
- **Linux**: `*~`, `.directory`

### 3. IDEs & Editors
Configuration files from popular editors:
- VSCode: `.vscode/`
- PyCharm: `.idea/`
- Sublime: `*.sublime-project`
- Vim: `*.swp`, `*.un~`
- Emacs: `*~`, `#*#`

### 4. Project Specific

#### Virtual Environment
```gitignore
bin/
lib/
lib64/
include/
share/
pyvenv.cfg
```
**Why**: These are generated by Python venv and should not be committed.
**How to recreate**: `python3 -m venv <dir>`

#### Build Artifacts
```gitignore
/build/
/dist/
```
**Why**: Generated by py2app/PyInstaller during app bundling.
**How to recreate**: `python3 setup_ddd.py py2app`

#### Resources
```gitignore
resources/
```
**Why**: Contains binary executables (yt-dlp, ffmpeg) that are platform-specific.
**How to add**: Download from official sources and place in `resources/` directory.

#### Audio Files
```gitignore
*.mp3
*.wav
*.m4a
*.aac
Demucs_Cuts/
htdemucs/
```
**Why**: Large output files from audio processing, not part of source code.

### 5. Security

Critical patterns to prevent accidental credential commits:
```gitignore
.env
.env.local
secrets.json
credentials.json
*.key
*.pem
api_keys.txt
```

**⚠️ IMPORTANT**: Never commit:
- API keys
- Passwords
- Private keys
- Access tokens
- Database credentials

## What IS Tracked

Only source code and configuration:
- ✅ `*.py` - Python source files
- ✅ `requirements.txt` - Dependencies
- ✅ `README.md`, `CLAUDE.md` - Documentation
- ✅ `setup.py`, `setup_ddd.py` - Build scripts
- ✅ `app_icon.icns` - Application icon
- ✅ `.gitignore` - This file

## Common Scenarios

### Scenario 1: Adding New Python Files
```bash
# Automatically tracked
git add src/new_module.py
```

### Scenario 2: New Virtual Environment
```bash
# Already ignored by .gitignore
python3 -m venv venv
source venv/bin/activate
# No git changes from venv creation
```

### Scenario 3: Building App
```bash
# Build artifacts automatically ignored
python3 setup_ddd.py py2app
# dist/ and build/ not tracked
```

### Scenario 4: Downloaded Audio
```bash
# Processing outputs ignored
python3 main_simple.py
# Downloads go to ~/Documents/Demucs_Cuts (ignored)
```

## Verification

### Check what's ignored
```bash
git status --ignored
```

### Check what will be committed
```bash
git status --short
```

### Force add ignored file (if needed)
```bash
git add -f resources/yt-dlp
```

## Best Practices

### ✅ DO
- Commit source code (`.py` files)
- Commit documentation (`.md` files)
- Commit configuration (`requirements.txt`, `setup.py`)
- Review `.gitignore` regularly

### ❌ DON'T
- Commit build artifacts (`dist/`, `build/`)
- Commit virtual environments (`venv/`, `bin/`, `lib/`)
- Commit IDE configs (`.vscode/`, `.idea/`)
- Commit secrets (`.env`, `*.key`)
- Commit large binaries (audio files, executables)
- Commit OS files (`.DS_Store`, `Thumbs.db`)
- Commit cache (`__pycache__/`, `*.pyc`)

## Troubleshooting

### Problem: File is ignored but I want to track it
```bash
# Use -f to force add
git add -f path/to/file
```

### Problem: File was committed before .gitignore
```bash
# Remove from git but keep locally
git rm --cached path/to/file
git commit -m "Remove accidentally committed file"
```

### Problem: .gitignore not working
```bash
# Clear git cache and re-add
git rm -r --cached .
git add .
git commit -m "Apply .gitignore"
```

### Problem: Want to see what's being ignored
```bash
git status --ignored
git check-ignore -v path/to/file
```

## Maintenance

### When to Update
- Adding new build tools (e.g., `tox`, `nox`)
- New IDE adopted by team
- New temporary file patterns discovered
- Security audit recommendations

### Template Source
Based on:
- [GitHub's Python .gitignore](https://github.com/github/gitignore/blob/main/Python.gitignore)
- [gitignore.io](https://www.toptal.com/developers/gitignore)
- Project-specific requirements

## Resources

- [Git Documentation](https://git-scm.com/docs/gitignore)
- [Atlassian .gitignore Guide](https://www.atlassian.com/git/tutorials/saving-changes/gitignore)
- [GitHub gitignore Templates](https://github.com/github/gitignore)

---

**Last Updated**: 2025-11-09
**Follows**: PEP 8, GitHub Python template, Security best practices
